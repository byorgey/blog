---
title: Signed sets and ballots and naturality
published: 2017-02-27T22:49:34Z
categories: combinatorics,math
tags: ballots,bijection,involution,natural,sets,signed,species,virtual
---

<p>This is blog post #3 in a series on signed sets and ballots (the previous posts are <a href="https://byorgey.wordpress.com/2017/02/20/signed-sets-and-ballots-part-1/">here</a> and <a href="https://byorgey.wordpress.com/2017/02/24/signed-sets-and-ballots-part-2/">here</a>).</p>
<h2 id="naturality-isomorphism-and-equipotence">Naturality, isomorphism, and equipotence</h2>
<p>When are two species isomorphic? Since species are, <a href="https://byorgey.wordpress.com/2012/11/20/combinatorial-species-definition/">by definition</a>, <a href="https://byorgey.wordpress.com/2012/12/06/species-definition-clarification-and-exercises/">functors $latex \mathbb{B} \to \mathbf{FinSet}$</a>, the obvious answer is “when they are isomorphic as functors”, that is, when there is a <em>natural isomorphism</em> between them.</p>
<p>Let’s unpack definitions a bit. Recall that $latex \mathbb{B}$ is the groupoid (<em>i.e.</em> category with all morphisms invertible) of finite sets and bijections, and $latex \mathbf{FinSet}$ is the category of finite sets and total functions.</p>
<p>Given two functors $latex F, G : \mathbb{B} \to \mathbf{FinSet}$, a <em>natural isomorphism</em> is some family of bijections $latex \psi_U : F[U] \leftrightarrow G[U]$ such that for any bijection $latex \varphi : U \leftrightarrow V$, the following square commutes:</p>
<div style="text-align:center;">
<div class="figure">
<img src="http://mathurl.com/zkplcov.png" />

</div>
</div>
<p>Think of $latex \varphi$ as a <em>relabelling</em>—that is, a 1-1 correspondence between labels in $latex U$ and labels in $latex V$. By functoriality of $latex F$ and $latex G$, we can lift $latex \varphi$ to relabel whole structures, via $latex F[\varphi]$ and $latex G[\varphi]$. The whole square then says that the family of correspondences $latex \psi$ “commute with relabelling”—that is, intuitively, $latex \psi$ can’t “look at” the labels at all, because it has to “do the same thing” even when we change the labels out from under it. It operates based solely on the structure present in the $latex F$- or $latex G$-structures—which by functoriality must be independent of the labels—and not based on the identity or structure of the set of labels itself.</p>
<p>All this generalizes readily to virtual species: recall that virtual species consist of pairs of species $latex (P,N)$, where we define $latex (P_1, N_1)$ to be equivalent to $latex (P_2, N_2)$ if and only if $latex P_1 + N_2$ is (naturally) isomorphic to $latex N_1 + P_2$. That is, isomorphism of virtual species already has natural isomorphism of regular species baked into it by definition.</p>
<p>Now, recall the signed involution from <a href="https://byorgey.wordpress.com/2017/02/24/signed-sets-and-ballots-part-2/">my previous post</a>. Since it depends on a chosen linear order, it is <em>not</em> a natural isomorphism: an arbitrary relabelling certainly need not preserve the ordering on the labels, so the involution is not preserved under relabelling.</p>
<p>This brings up the natural (haha) question: is it possible to give a <em>natural</em> isomorphism between signed sets and signed ballots? If so, we would certainly prefer it to this involution that makes use of a linear order. But sadly, the answer, it turns out, is no. Let $latex k$ range from $latex 0$ to $latex n$. We are looking for a natural isomorphism</p>
<p><div style="text-align:center;">
$latex \displaystyle E_n + \sum_{k \text{ even}} (E_+)^k \cong \sum_{k \text{ odd}} (E_+)^k$
</div></p>
<p>in the case that $latex n$ is odd, or</p>
<p><div style="text-align:center;">
$latex \displaystyle \sum_{k \text{ even}} (E_+)^k \cong E_n + \sum_{k \text{ odd}} (E_+)^k$
</div></p>
<p>when $latex n$ is even.</p>
<p>Notice that in any case, whether positive or negative, the $latex E_n$-structure will be fixed by any relabelling which is a permutation (because permuting the elements of a set does not change the set). Hence, any <em>natural</em> isomorphism must send it to some structure which is also fixed by all permutations. But the only such ballot structure is the one consisting of a single part containing all the elements. This ballot has an odd number of parts, so there cannot be a natural isomorphism in the case that $latex n$ is even—we would have to match the $latex E_n$ structure with some even-sized ballot which is fixed by all permutations of the labels, but there are none. Hence there is no natural isomorphism, which by definition would have to work for <em>all</em> $latex n$.</p>
<p>But what about for odd $latex n$? Can we have a natural isomorphism between the structures restricted to the case when $latex n$ is odd? In fact, no: we can make a more general argument that applies for any $latex n &gt; 1$. Consider the $latex n!$ different ballots consisting of $latex n$ separate singleton parts. Each of these is fixed by <em>no</em> permutations other than the identity. So, under a natural isomorphism they would all have to map to ballots of the opposite parity which are also fixed by no permutations other than the identity: but by the Pigeonhole Principle, any ballot with fewer than $latex n$ parts must have at least one part containing more than one element, and will therefore be fixed under any permutation that only touches the elements in that part.</p>
<p>In this situation—when there is a 1-1 correspondence between species, but not a <em>natural</em> one—we say the species are <em>equipotent</em> but not isomorphic. The species have the same <em>number</em> of structures of each size, and hence exactly the same generating function, but they are not (naturally) isomorphic: it is possible to tell them apart by looking at how structures behave under relabelling. Another classic example of this phenomenon is the species of lists and the species of permutations: each has exactly $latex n!$ labelled structures of size $latex n$, but they are not naturally isomorphic. Lists have no symmetry at all, that is, they are fixed by no permutations other than the identity, but permutations, in general, do have some symmetry. For example, any permutation $latex p$ is fixed when the labels are permuted by $latex p$ itself: the permutation $latex (123)$ is the same as the permutation $latex (231)$. The classic combinatorial proof that there are the same number of lists and permutations also uses an extra linear order on the labels.</p>
<h2 id="subset-parity">Subset parity</h2>
<p>A classic lemma in combinatorics states that any nonempty finite set has the same number of even and odd subsets. In fact, I recently <a href="https://mathlesstraveled.com/2016/12/03/the-mobius-function-proof-part-2-the-subset-parity-lemma/">wrote a proof of this on my other blog</a>. Since it’s written for a more general audience, it’s spelled out there in quite a lot of detail; but if you understand the idea of signed involutions, the classic combinatorial proof is quite simple to state: given a set $latex S$, pick some $latex a \in S$, and define a signed involution on subsets of $latex S$ (signed according to the parity of their size) by “toggling” the presence of $latex a$. That is, given $latex X \subseteq S$, if $latex a \in X$ then take it out, and if $latex a \notin X$ then add it in. This is clearly an involution and sends even subsets to odd and vice versa.</p>
<p>However, this involution is not natural—it depends on the choice of $latex a$.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> Is it possible to prove it via a <em>natural</em> correspondence? In fact, that’s one of the things <a href="http://akc.is/blog/2017-02-18-Inverse-species-and-sign-reversing-involutions.html">Anders Claesson’s original post</a>—the one that got me started down this whole rabbit hole—was trying to do. Unfortunately, hidden in the middle of his proof was an assumed correspondence between signed sets and signed ballots, and as we’ve seen, this correspondence actually cannot be proved naturally. (I should reiterate that in no way do I mean to disparage his post—it’s still a great post with a lot of cool insights, not to mention a nice framework for thinking about multiplicative inverses of species. It just doesn’t quite accomplish one of the things he thought it was accomplishing!)</p>
<p>Now, at this point, all we know is that the <em>particular</em> argument used in that post is not, in fact, natural. But that doesn’t necessarily mean a natural correspondence between even and odd subsets is impossible. However, it turns out that it is (mostly) impossible: we can give a more direct argument that, in fact, there is no natural proof—that is, the species of odd subsets and the species of even subsets are equipotent but not naturally isomorphic.</p>
<p>The proof is quite simple, and along similar lines as the proof for signed sets and ballots. Note that the empty subset is fixed by all permutations, as is the maximal subset—and these are clearly the only such subsets. So any natural correspondence must match these subsets with each other—but when $latex n$ is even they have the same parity.</p>
<p>What about if we restrict to the case when $latex n$ is odd? Unlike the case of signed sets and ballots, it turns out that we actually <em>can</em> give a natural proof in this case! The involution to use is the one that simply sends any $latex X \subseteq S$ to its complement $latex S - X$. This is clearly an involution, and since $latex |S|$ is odd, it reverses the parity as required. It also does not depend at all on the elements of $latex S$ or any assumed structure on them, that is, it commutes perfectly well with relabelling.</p>
<p>This corresponds nicely with an observation we can make about Pascal’s triangle: it is easy to see that the alternating sum of any odd row is $latex 0$, for example, $latex 1 - 5 + 10 - 10 + 5 - 1 = 0$, since the entries are all duplicated, with one positive and one negative version of each. However, for even rows it is not quite so obvious: why is $latex 1 - 4 + 6 - 4 + 1 = 0$? To show this cancels to give 0 we must “split up” some of the numbers so that one part of them cancels with one number and another part cancels with another; that is, we cannot necessarily treat all the subsets of a given size uniformly. But subsets of a given size are completely indistinguishable up to relabelling—hence the necessity of some extra structure to allow us to make the necessary distinctions.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Interestingly, it does not depend on a linear order—just on a chosen element. I wonder if anyone has ever thought about “classifying” different equipotences by the “strength” of the extra structure needed to prove them.<a href="#fnref1">↩</a></p></li>
</ol>
</div>

